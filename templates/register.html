{% extends "base.html" %}

{% block title %}Register - Secure Password Manager{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card bg-dark">
                <div class="card-header">
                    <h3 class="card-title mb-0">Register</h3>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('register') }}">
                        {{ form.hidden_tag() }}
                        
                        <div class="mb-3">
                            <label for="{{ form.username.id }}" class="form-label">Username</label>
                            {{ form.username(class="form-control", placeholder="Enter username") }}
                            {% for error in form.username.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        </div>
                        
                        <div class="mb-3">
                            <label for="{{ form.password.id }}" class="form-label">Master Password</label>
                            <div class="input-group">
                                {{ form.password(class="form-control password-strength-check", placeholder="Enter master password") }}
                                <button class="btn btn-outline-secondary toggle-password" type="button" data-target="{{ form.password.id }}">
                                    <i class="fa fa-eye"></i>
                                </button>
                            </div>
                            <div class="mt-1">
                                <small class="text-muted">
                                    Strength: <span id="password-strength"></span>
                                </small>
                            </div>
                            {% for error in form.password.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                            <small class="form-text text-muted">
                                Your master password is used to encrypt all your data. 
                                Make sure it's strong and unique. We recommend at least 12 characters.
                            </small>
                        </div>
                        
                        <div class="mb-4">
                            <label for="{{ form.confirm_password.id }}" class="form-label">Confirm Password</label>
                            <div class="input-group">
                                {{ form.confirm_password(class="form-control", placeholder="Confirm master password") }}
                                <button class="btn btn-outline-secondary toggle-password" type="button" data-target="{{ form.confirm_password.id }}">
                                    <i class="fa fa-eye"></i>
                                </button>
                            </div>
                            {% for error in form.confirm_password.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        </div>
                        
                        <div class="d-grid">
                            {{ form.submit(class="btn btn-primary") }}
                        </div>
                    </form>
                </div>
                <div class="card-footer text-center">
                    <p class="mb-0">Already have an account? <a href="{{ url_for('login') }}">Login</a></p>
                </div>
            </div>
            
            <div class="mt-4">
                <div class="alert alert-info">
                    <h5><i class="fas fa-info-circle me-2"></i>Important Security Note:</h5>
                    <p class="mb-0">
                        Your master password is the key to all your stored passwords. 
                        We do not store it anywhere, so if you forget it, we cannot recover it.
                        Make sure to remember it or store it in a safe place.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}